"use strict";(globalThis["webpackChunkprojact_tabula_design"]=globalThis["webpackChunkprojact_tabula_design"]||[]).push([[949],{3949:(l,e,a)=>{a.r(e),a.d(e,{default:()=>y});var u=a(3673),t=a(2323),n=a(8880),o=a(8339),s=a(2330),r=a(1959);const i=(0,u._)("img",{src:"/favicon.ico"},null,-1),c=(0,u._)("div",{class:"text-center q-pt-lg"},[(0,u._)("div",{class:"col text-h6 ellipsis"}," Log in to TABULA ")],-1),d={__name:"Login",setup(l){const e=(0,o.tv)(),a=(0,o.yj)(),d=(0,r.iH)(""),p=(0,r.iH)(""),m=(0,r.iH)(!1),g=(0,r.iH)(!1),v=(0,r.iH)(""),_=(0,r.iH)("");console.log("this code runs auto"),s.Z.logout(),v.value=a.query.returnUrl||"/",console.log("done");const b=l=>{m.value=!0;const a=d.value,u=p.value;if(!a||!u)return;g.value=!0;let t=s.Z.login(a,u);t?(console.log("success ",t),e.push("/")):(_.value="Auth failed",g.value=!1)};return(l,e)=>{const a=(0,u.up)("q-avatar"),o=(0,u.up)("q-card-section"),s=(0,u.up)("x-input"),r=(0,u.up)("q-btn"),m=(0,u.up)("q-form"),g=(0,u.up)("card"),v=(0,u.up)("q-page"),_=(0,u.up)("q-page-container"),f=(0,u.up)("q-layout");return(0,u.wg)(),(0,u.j4)(f,null,{default:(0,u.w5)((()=>[(0,u.Wm)(_,null,{default:(0,u.w5)((()=>[(0,u.Wm)(v,{class:"flex bg-background flex-center"},{default:(0,u.w5)((()=>[(0,u.Wm)(g,{style:(0,t.j5)(l.$q.screen.lt.sm?{width:"80%"}:{width:"30%"})},{default:(0,u.w5)((()=>[(0,u.Wm)(o,null,{default:(0,u.w5)((()=>[(0,u.Wm)(a,{size:"103px",class:"absolute-center bg-transparent"},{default:(0,u.w5)((()=>[i])),_:1})])),_:1}),(0,u.Wm)(o,null,{default:(0,u.w5)((()=>[c])),_:1}),(0,u.Wm)(o,null,{default:(0,u.w5)((()=>[(0,u.Wm)(m,{class:"q-gutter-md",onSubmit:(0,n.iM)(b,["prevent"])},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),label:"Username","lazy-rules":""},null,8,["modelValue"]),(0,u.Wm)(s,{type:"password",modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),label:"Password","lazy-rules":""},null,8,["modelValue"]),(0,u._)("div",null,[(0,u.Wm)(r,{label:"Login",color:"primary",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})}}};var p=a(9214),m=a(2652),g=a(4379),v=a(5589),_=a(5096),b=a(5269),f=a(8240),w=a(7518),h=a.n(w);const q=d,y=q;h()(d,"components",{QLayout:p.Z,QPageContainer:m.Z,QPage:g.Z,QCardSection:v.Z,QAvatar:_.Z,QForm:b.Z,QBtn:f.Z})}}]);